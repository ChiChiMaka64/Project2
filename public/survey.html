<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="styles/styles.css">
    <link href="https://fonts.googleapis.com/css?family=Merienda" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300" rel="stylesheet">
</head>
<body>

        <nav class="navbar sticky-top navbar-dark" style="background-color: #4E6172;">
                <div class="container-fluid">
                    <div class="navbar-header sticky-top">
                        <a class="navbar-brand" href="/">Take A Hike.</a>
                    </div>
                    <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="/">Home</a>
                        </li>
                        <li>
                            <a href="/">Search</a>
                        </li>
                        <li>
                            <a href="/">Messages</a>
                        </li>
                        <li>
                            <a href="/">Calendar</a>
                        </li>
                        <li>
                            <a href="/">My Places</a>
                        </li>
                        <li>
                            <a href="/">Photos</a>
                        </li>
                        <li>
                            <a href="/">About</a>
                        </li>
                        <li>
                <form class="navbar-form" role="search">
                <div class="input-group">
                    <input class="form-control form-control-lg form-control-borderless" type="text" class="input-small" placeholder="Search for that perfect quiet place"
                        name="srch-term" id="srch-term">
                    <div class="input-group-btn">
                        <button class="btn btn-default" type="submit">
                            <i class="glyphicon glyphicon-search"></i>
                        </button>
                    </div>
                </div>
            </form>
            </li>
            <li>
                <a href="/login">Login/Sign Up</a>
            </li>
            
        </ul>
        
    </div>
</nav>
    <div class="container" style="margin-top:80px; width:880px;">

        <h3 class="row"><b>Please Choose Which Hike You Would like to Go On</b></h3>
        <br />
        
        <h4 class="row">
            <strong>About You</strong>
        </h4>
        <br />
       
        <div class="form-group row">
            <label for="name">Name</label>
            <input type="name" class="form-control" placeholder="name" id="name" required>
        </div>

        <div class="form-group row">
            <label for="age">Age</label>
            <input type="url" class="form-control" placeholder="age" id="age">
        </div>

        <div class="form-group row">
                <label for="gender">Gender</label>
                <input type="gender" class="form-control" placeholder="name" id="gender" required>
        </div>
        


        <form>
            <h4 class="row"><b>Hiking Trails</b></h4>

            <label for="trails" class="row">Which hiking trail do you want to hike?
            </label>
                <div class="form-group row">
                    <div class="col-xs-12">
                        <select class="select-option" id="question1">
                            <option selected>Select an Option</option>
                            <option value="1">Bayview Trailhead</option>
                            <option value="2">Cascade Falls</option>
                            <option value="3">Eagle Rock</option>
                            <option value="4">Tahoe Rim Trail</option>
                            <option value="5">Tallac Trailhead</option>
                            <option value="5">Page Meadows</option>
                        </select>
                    </div>
                </div>

                
        </form>
        
        <div class="row">
                <button type="button" class="btn btn-primary btn-lg btn-block" id="submit" style="background-color: #4E6172; width: 160px;">Submit</button>
        </div>
        
        <div id="links">


            
        </div>
    </div>

        
            <div class="modal" id="resultsModal" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3 class="modal-title">Best Match</h3>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                            
                        </div>
                        <div class="modal-body">
                            <h3 id="matchName"></h3>
                            <img id="matchPicture" src="" alt="">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>

<script>

    //Onclick Function to capture the user inputs
    $("#submit").on("click", function(event) {
        event.preventDefault();

        //Once valdiated we have to createa an object for new User data
        if (formValidation()) {


            var newUserData = {
                name: $("#name").val(),
                age: $("#age").val(),
                gender: $("#gender").val(),
                trails: 'a trail' //$("#trails option:selected").val()
            };

            console.log(newUserData);

            $.post("/api/hiker", newUserData, function (data) {

                //alert(data);

                $("#matchName").text(data.name);
                //$("#matchPicture").attr("src", data.photo);

                // Show best match on pop up modal
                //$("#resultsModal").modal("toggle");

                
            });

        } // end of if valid
    }); // end of button click

     // Need to Validate the Form 
     function formValidation() {

        return true;

        var formValid = true;
        $(".form-control").each(function() {
          if ($(this).val() === "") {
            formValid = false;
          }
        });

        $(".select-option").each(function() {
            if ($(this).val() === "") {
            formValid = false;
          }
        });
        
        return formValid;
      }






</script>
</body>
</html>